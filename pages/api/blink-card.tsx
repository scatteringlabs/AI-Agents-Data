import { NextRequest, NextResponse } from "next/server";
import { ImageResponse } from "@vercel/og";
import { getCollectionBySlug } from "@/services/collections";
import { getTokenLogoURL } from "@/utils/token";
import { formatNumberWithKM } from "@/utils/format";
import { arbitrum, base, mainnet } from "viem/chains";
export const config = {
  runtime: "edge",
};

const width = 564;
const height = 564;

export default async function handler(req: NextRequest) {
  const { searchParams } = new URL(req.url);

  const slug = searchParams.get("slug");

  if (!slug) {
    return new NextResponse("Slug not found", { status: 400 });
  }

  try {
    const data = await getCollectionBySlug({
      slug: slug.toString(),
    });
    const title = data.data?.item?.name || "Title";
    // const logoUrl = getTokenLogoURL({
    //   address: data?.data?.item?.erc20_address,
    //   chainId: data?.data?.item?.chain_id,
    //   size: 750,
    // });
    const logoUrl = data?.data?.item?.logo_url
      ? data?.data?.item?.logo_url
      : getTokenLogoURL({
          address: data?.data?.item?.erc20_address,
          chainId: data?.data?.item?.chain_id,
          size: 750,
        });
    return new ImageResponse(
      (
        <div
          style={{
            display: "flex",
            height: "100%",
            width: "100%",
            alignItems: "center",
            justifyContent: "center",
            fontWeight: 700,
            background: "#000206",
            position: "relative",
            flexDirection: "column",
            // borderRadius: "10px",
          }}
        >
          <img
            src={logoUrl}
            alt="Token Logo"
            style={{
              width: "564px",
              height: "564px",
              objectFit: "contain",
              position: "absolute",
              left: 0,
              top: 0,
              zIndex: 0,
            }}
          />
          <div
            style={{
              display: "flex",
              justifyContent: "space-between",
              alignItems: "center",
              position: "absolute",
              left: 0,
              bottom: 0,
              width: "100%",
              padding: "20px",
              boxSizing: "border-box",
              zIndex: 2,
            }}
          >
            <div
              style={{
                background: "rgba(0, 0, 0, 0.80)",
                // backdropFilter: "blur(25px)",
                display: "flex",
                padding: "12px 20px",
                fontSize: "15px",
                borderRadius: "4px",
                border: "1px solid rgba(255, 255, 255, 0.20)",
              }}
            >
              <span
                style={{
                  color: "rgba(255, 255, 255, 0.60)",
                  textTransform: "capitalize",
                  fontWeight: 500,
                  paddingRight: "4px",
                }}
              >
                price:
              </span>
              <span
                style={{ color: "rgba(255, 255, 255, 1)", fontWeight: "bold" }}
              >
                ${Number(data?.data?.item?.price_in_usd)?.toPrecision(5)}
              </span>
            </div>
            <div
              style={{
                background: "rgba(0, 0, 0, 0.80)",
                // backdropFilter: "blur(25px)",
                display: "flex",
                padding: "12px 20px",
                fontSize: "15px",
                borderRadius: "4px",
                border: "1px solid rgba(255, 255, 255, 0.20)",
              }}
            >
              <span
                style={{
                  color: "rgba(255, 255, 255, 0.60)",
                  textTransform: "capitalize",
                  fontWeight: 500,
                  paddingRight: "4px",
                }}
              >
                24h Chg:
              </span>
              <span
                style={{
                  fontWeight: "bold",
                  color:
                    Number(data?.data?.item?.price_change) > 0
                      ? "#00B912"
                      : Number(data?.data?.item?.price_change) === 0
                        ? "rgba(255, 255, 255,0.6)"
                        : "#DC2626",
                }}
              >
                {Number(data?.data?.item?.price_change)}%
              </span>
            </div>
            <div
              style={{
                background: "rgba(0, 0, 0, 0.80)",
                // backdropFilter: "blur(25px)",
                display: "flex",
                padding: "12px 20px",
                fontSize: "15px",
                borderRadius: "4px",
                border: "1px solid rgba(255, 255, 255, 0.20)",
              }}
            >
              <span
                style={{
                  color: "rgba(255, 255, 255, 0.60)",
                  textTransform: "capitalize",
                  fontWeight: 500,
                  paddingRight: "4px",
                }}
              >
                24h Vol:
              </span>
              <span
                style={{ color: "rgba(255, 255, 255, 1)", fontWeight: "bold" }}
              >
                ${formatNumberWithKM(data?.data?.item?.volume)}
              </span>
            </div>
          </div>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="204"
            height="63"
            viewBox="0 0 204 63"
            fill="none"
            style={{
              position: "absolute",
              zIndex: 1,
              top: -1,
              left: -10,
            }}
          >
            <g filter="url(#filter0_b_5255_20836)">
              <path
                d="M0.601889 0.0C0.0 5.9745 5.9745 0.0 0.0 0.0H182.834L203.212 63.0016H0.601562L0.601889 12.4765Z"
                fill="black"
                fill-opacity="0.8"
              />
            </g>
            <defs>
              <filter
                id="filter0_b_5255_20836"
                x="-9.39844"
                y="-9.52344"
                width="222.609"
                height="82.5234"
                filterUnits="userSpaceOnUse"
                color-interpolation-filters="sRGB"
              >
                <feFlood flood-opacity="0" result="BackgroundImageFix" />
                <feGaussianBlur in="BackgroundImageFix" stdDeviation="5" />
                <feComposite
                  in2="SourceAlpha"
                  operator="in"
                  result="effect1_backgroundBlur_5255_20836"
                />
                <feBlend
                  mode="normal"
                  in="SourceGraphic"
                  in2="effect1_backgroundBlur_5255_20836"
                  result="shape"
                />
              </filter>
            </defs>
          </svg>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="126"
            height="41"
            style={{
              position: "absolute",
              zIndex: 2,
              top: 10,
              left: 24,
            }}
            viewBox="0 0 126 41"
            fill="none"
          >
            <rect
              x="0.0507812"
              y="0.476562"
              width="40"
              height="40"
              rx="20"
              fill="url(#paint0_linear_5255_20837)"
            />
            <path
              d="M20.046 7.48268C20.6 7.48268 21.0491 7.0336 21.0491 6.47962C21.0491 5.92565 20.6 5.47656 20.046 5.47656C19.4921 5.47656 19.043 5.92565 19.043 6.47962C19.043 7.0336 19.4921 7.48268 20.046 7.48268Z"
              fill="white"
            />
            <path
              d="M20.0463 10.0302C20.5099 10.0302 20.8856 9.65439 20.8856 9.19086C20.8856 8.72733 20.5099 8.35156 20.0463 8.35156C19.5828 8.35156 19.207 8.72733 19.207 9.19086C19.207 9.65439 19.5828 10.0302 20.0463 10.0302Z"
              fill="white"
            />
            <path
              d="M20.0442 12.5806C20.4116 12.5806 20.7095 12.2827 20.7095 11.9153C20.7095 11.5479 20.4116 11.25 20.0442 11.25C19.6768 11.25 19.3789 11.5479 19.3789 11.9153C19.3789 12.2827 19.6768 12.5806 20.0442 12.5806Z"
              fill="white"
            />
            <path
              d="M20.0445 15.1281C19.7681 15.1281 19.543 14.9029 19.543 14.6265C19.543 14.3502 19.7681 14.125 20.0445 14.125C20.3209 14.125 20.546 14.3502 20.546 14.6265C20.546 14.9029 20.3209 15.1281 20.0445 15.1281Z"
              fill="white"
            />
            <path
              d="M20.046 35.4749C20.6 35.4749 21.0491 35.0258 21.0491 34.4718C21.0491 33.9178 20.6 33.4688 20.046 33.4688C19.4921 33.4688 19.043 33.9178 19.043 34.4718C19.043 35.0258 19.4921 35.4749 20.046 35.4749Z"
              fill="white"
            />
            <path
              d="M20.0463 32.5887C20.5099 32.5887 20.8856 32.213 20.8856 31.7495C20.8856 31.2859 20.5099 30.9102 20.0463 30.9102C19.5828 30.9102 19.207 31.2859 19.207 31.7495C19.207 32.213 19.5828 32.5887 20.0463 32.5887Z"
              fill="white"
            />
            <path
              d="M20.0442 29.7017C20.4116 29.7017 20.7095 29.4038 20.7095 29.0364C20.7095 28.669 20.4116 28.3711 20.0442 28.3711C19.6768 28.3711 19.3789 28.669 19.3789 29.0364C19.3789 29.4038 19.6768 29.7017 20.0442 29.7017Z"
              fill="white"
            />
            <path
              d="M20.0445 25.8242C20.3209 25.8242 20.546 26.0494 20.546 26.3258C20.546 26.6021 20.3209 26.8273 20.0445 26.8273C19.7681 26.8273 19.543 26.6021 19.543 26.3258C19.543 26.0494 19.7681 25.8242 20.0445 25.8242Z"
              fill="white"
            />
            <path
              d="M34.046 21.4749C34.6 21.4749 35.0491 21.0258 35.0491 20.4718C35.0491 19.9178 34.6 19.4688 34.046 19.4688C33.4921 19.4688 33.043 19.9178 33.043 20.4718C33.043 21.0258 33.4921 21.4749 34.046 21.4749Z"
              fill="white"
            />
            <path
              d="M31.3237 21.3114C31.7872 21.3114 32.163 20.9356 32.163 20.4721C32.163 20.0086 31.7872 19.6328 31.3237 19.6328C30.8601 19.6328 30.4844 20.0086 30.4844 20.4721C30.4844 20.9356 30.8601 21.3114 31.3237 21.3114Z"
              fill="white"
            />
            <path
              d="M28.6106 21.1353C28.9781 21.1353 29.2759 20.8374 29.2759 20.47C29.2759 20.1025 28.9781 19.8047 28.6106 19.8047C28.2432 19.8047 27.9453 20.1025 27.9453 20.47C27.9453 20.8374 28.2432 21.1353 28.6106 21.1353Z"
              fill="white"
            />
            <path
              d="M25.3984 20.4703C25.3984 20.1939 25.6236 19.9688 25.9 19.9688C26.1763 19.9688 26.4015 20.1939 26.4015 20.4703C26.4015 20.7466 26.1763 20.9718 25.9 20.9718C25.6236 20.9718 25.3984 20.7466 25.3984 20.4703Z"
              fill="white"
            />
            <path
              d="M6.05385 21.4749C6.60783 21.4749 7.05692 21.0258 7.05692 20.4718C7.05692 19.9178 6.60783 19.4688 6.05385 19.4688C5.49987 19.4688 5.05078 19.9178 5.05078 20.4718C5.05078 21.0258 5.49987 21.4749 6.05385 21.4749Z"
              fill="white"
            />
            <path
              d="M8.76509 21.3114C9.22862 21.3114 9.60439 20.9356 9.60439 20.4721C9.60439 20.0086 9.22862 19.6328 8.76509 19.6328C8.30155 19.6328 7.92578 20.0086 7.92578 20.4721C7.92578 20.9356 8.30155 21.3114 8.76509 21.3114Z"
              fill="white"
            />
            <path
              d="M11.4895 21.1353C11.857 21.1353 12.1548 20.8374 12.1548 20.47C12.1548 20.1025 11.857 19.8047 11.4895 19.8047C11.1221 19.8047 10.8242 20.1025 10.8242 20.47C10.8242 20.8374 11.1221 21.1353 11.4895 21.1353Z"
              fill="white"
            />
            <path
              d="M14.7023 20.4703C14.7023 20.7466 14.4771 20.9718 14.2008 20.9718C13.9244 20.9718 13.6992 20.7466 13.6992 20.4703C13.6992 20.1939 13.9244 19.9688 14.2008 19.9688C14.4771 19.9688 14.7023 20.1939 14.7023 20.4703Z"
              fill="white"
            />
            <path
              d="M29.9445 31.3733C30.4985 31.3733 30.9475 30.9242 30.9475 30.3702C30.9475 29.8163 30.4985 29.3672 29.9445 29.3672C29.3905 29.3672 28.9414 29.8163 28.9414 30.3702C28.9414 30.9242 29.3905 31.3733 29.9445 31.3733Z"
              fill="white"
            />
            <path
              d="M28.0307 29.2958C28.4942 29.2958 28.87 28.92 28.87 28.4565C28.87 27.993 28.4942 27.6172 28.0307 27.6172C27.5672 27.6172 27.1914 27.993 27.1914 28.4565C27.1914 28.92 27.5672 29.2958 28.0307 29.2958Z"
              fill="white"
            />
            <path
              d="M26.1067 27.1978C26.4741 27.1978 26.772 26.8999 26.772 26.5325C26.772 26.165 26.4741 25.8672 26.1067 25.8672C25.7393 25.8672 25.4414 26.165 25.4414 26.5325C25.4414 26.8999 25.7393 27.1978 26.1067 27.1978Z"
              fill="white"
            />
            <path
              d="M23.8334 24.2591C24.0278 24.0647 24.3451 24.0647 24.5396 24.2591C24.7341 24.4536 24.7341 24.7709 24.5396 24.9654C24.3451 25.1598 24.0278 25.1598 23.8334 24.9654C23.6389 24.7709 23.6389 24.4536 23.8334 24.2591Z"
              fill="white"
            />
            <path
              d="M10.1476 11.5764C10.7016 11.5764 11.1507 11.1273 11.1507 10.5734C11.1507 10.0194 10.7016 9.57031 10.1476 9.57031C9.59362 9.57031 9.14453 10.0194 9.14453 10.5734C9.14453 11.1273 9.59362 11.5764 10.1476 11.5764Z"
              fill="white"
            />
            <path
              d="M12.0737 13.3348C12.5372 13.3348 12.913 12.9591 12.913 12.4955C12.913 12.032 12.5372 11.6562 12.0737 11.6562C11.6101 11.6562 11.2344 12.032 11.2344 12.4955C11.2344 12.9591 11.6101 13.3348 12.0737 13.3348Z"
              fill="white"
            />
            <path
              d="M13.9973 15.0884C14.3648 15.0884 14.6626 14.7905 14.6626 14.4231C14.6626 14.0557 14.3648 13.7578 13.9973 13.7578C13.6299 13.7578 13.332 14.0557 13.332 14.4231C13.332 14.7905 13.6299 15.0884 13.9973 15.0884Z"
              fill="white"
            />
            <path
              d="M16.2701 16.6958C16.0756 16.8903 15.7583 16.8903 15.5638 16.6958C15.3694 16.5014 15.3694 16.1841 15.5638 15.9896C15.7583 15.7951 16.0756 15.7951 16.2701 15.9896C16.4645 16.1841 16.4645 16.5014 16.2701 16.6958Z"
              fill="white"
            />
            <path
              d="M26.8234 33.7249C27.3774 33.7249 27.8265 33.2758 27.8265 32.7218C27.8265 32.1678 27.3774 31.7188 26.8234 31.7188C26.2694 31.7188 25.8203 32.1678 25.8203 32.7218C25.8203 33.2758 26.2694 33.7249 26.8234 33.7249Z"
              fill="white"
            />
            <path
              d="M25.5151 31.1903C25.9786 31.1903 26.3544 30.8145 26.3544 30.351C26.3544 29.8875 25.9786 29.5117 25.5151 29.5117C25.0516 29.5117 24.6758 29.8875 24.6758 30.351C24.6758 30.8145 25.0516 31.1903 25.5151 31.1903Z"
              fill="white"
            />
            <path
              d="M24.1926 28.6275C24.5601 28.6275 24.8579 28.3296 24.8579 27.9622C24.8579 27.5947 24.5601 27.2969 24.1926 27.2969C23.8252 27.2969 23.5273 27.5947 23.5273 27.9622C23.5273 28.3296 23.8252 28.6275 24.1926 28.6275Z"
              fill="white"
            />
            <path
              d="M22.6374 25.1493C22.8831 25.0163 23.1799 25.0981 23.3232 25.3438C23.4665 25.5894 23.3744 25.8863 23.1287 26.0296C22.8831 26.1729 22.5862 26.0807 22.4429 25.8351C22.2996 25.5894 22.3918 25.2926 22.6374 25.1493Z"
              fill="white"
            />
            <path
              d="M13.2804 9.23268C13.8344 9.23268 14.2835 8.7836 14.2835 8.22962C14.2835 7.67565 13.8344 7.22656 13.2804 7.22656C12.7264 7.22656 12.2773 7.67565 12.2773 8.22962C12.2773 8.7836 12.7264 9.23268 13.2804 9.23268Z"
              fill="white"
            />
            <path
              d="M14.5893 11.4442C15.0528 11.4442 15.4286 11.0684 15.4286 10.6049C15.4286 10.1414 15.0528 9.76562 14.5893 9.76562C14.1258 9.76562 13.75 10.1414 13.75 10.6049C13.75 11.0684 14.1258 11.4442 14.5893 11.4442Z"
              fill="white"
            />
            <path
              d="M15.8997 13.6431C16.2671 13.6431 16.565 13.3452 16.565 12.9778C16.565 12.6104 16.2671 12.3125 15.8997 12.3125C15.5322 12.3125 15.2344 12.6104 15.2344 12.9778C15.2344 13.3452 15.5322 13.6431 15.8997 13.6431Z"
              fill="white"
            />
            <path
              d="M17.4568 15.7919C17.2112 15.925 16.9144 15.8431 16.7711 15.5974C16.6278 15.3518 16.7199 15.055 16.9655 14.9117C17.2112 14.7684 17.508 14.8605 17.6513 15.1062C17.7946 15.3518 17.7025 15.6486 17.4568 15.7919Z"
              fill="white"
            />
            <path
              d="M23.6281 35.0061C24.1821 35.0061 24.6311 34.557 24.6311 34.0031C24.6311 33.4491 24.1821 33 23.6281 33C23.0741 33 22.625 33.4491 22.625 34.0031C22.625 34.557 23.0741 35.0061 23.6281 35.0061Z"
              fill="white"
            />
            <path
              d="M22.9448 32.2216C23.4083 32.2216 23.7841 31.8458 23.7841 31.3823C23.7841 30.9187 23.4083 30.543 22.9448 30.543C22.4812 30.543 22.1055 30.9187 22.1055 31.3823C22.1055 31.8458 22.4812 32.2216 22.9448 32.2216Z"
              fill="white"
            />
            <path
              d="M22.2473 29.4204C22.6148 29.4204 22.9126 29.1226 22.9126 28.7551C22.9126 28.3877 22.6148 28.0898 22.2473 28.0898C21.8799 28.0898 21.582 28.3877 21.582 28.7551C21.582 29.1226 21.8799 29.4204 22.2473 29.4204Z"
              fill="white"
            />
            <path
              d="M21.4181 25.6419C21.6842 25.5702 21.9605 25.734 22.0322 26.0001C22.1038 26.2662 21.9401 26.5426 21.6739 26.6142C21.4078 26.6859 21.1315 26.5221 21.0598 26.256C20.9882 25.9899 21.1519 25.7135 21.4181 25.6419Z"
              fill="white"
            />
            <path
              d="M16.464 7.94362C17.018 7.94362 17.4671 7.49453 17.4671 6.94056C17.4671 6.38658 17.018 5.9375 16.464 5.9375C15.91 5.9375 15.4609 6.38658 15.4609 6.94056C15.4609 7.49453 15.91 7.94362 16.464 7.94362Z"
              fill="white"
            />
            <path
              d="M17.1596 10.4091C17.6232 10.4091 17.9989 10.0333 17.9989 9.56976C17.9989 9.10623 17.6232 8.73047 17.1596 8.73047C16.6961 8.73047 16.3203 9.10623 16.3203 9.56976C16.3203 10.0333 16.6961 10.4091 17.1596 10.4091Z"
              fill="white"
            />
            <path
              d="M17.8567 12.8579C18.2241 12.8579 18.522 12.5601 18.522 12.1926C18.522 11.8252 18.2241 11.5273 17.8567 11.5273C17.4893 11.5273 17.1914 11.8252 17.1914 12.1926C17.1914 12.5601 17.4893 12.8579 17.8567 12.8579Z"
              fill="white"
            />
            <path
              d="M18.674 15.3017C18.4078 15.3734 18.1315 15.2096 18.0598 14.9435C17.9882 14.6774 18.1519 14.401 18.4181 14.3294C18.6842 14.2577 18.9605 14.4215 19.0322 14.6876C19.1038 14.9537 18.9401 15.2301 18.674 15.3017Z"
              fill="white"
            />
            <path
              d="M33.5851 25.0257C34.1391 25.0257 34.5882 24.5766 34.5882 24.0226C34.5882 23.4686 34.1391 23.0195 33.5851 23.0195C33.0311 23.0195 32.582 23.4686 32.582 24.0226C32.582 24.5766 33.0311 25.0257 33.5851 25.0257Z"
              fill="white"
            />
            <path
              d="M30.9565 24.1747C31.42 24.1747 31.7958 23.7989 31.7958 23.3354C31.7958 22.8719 31.42 22.4961 30.9565 22.4961C30.493 22.4961 30.1172 22.8719 30.1172 23.3354C30.1172 23.7989 30.493 24.1747 30.9565 24.1747Z"
              fill="white"
            />
            <path
              d="M28.3333 23.315C28.7007 23.315 28.9986 23.0171 28.9986 22.6497C28.9986 22.2822 28.7007 21.9844 28.3333 21.9844C27.9658 21.9844 27.668 22.2822 27.668 22.6497C27.668 23.0171 27.9658 23.315 28.3333 23.315Z"
              fill="white"
            />
            <path
              d="M25.2239 21.8321C25.2955 21.566 25.5719 21.4022 25.838 21.4739C26.1041 21.5455 26.2679 21.8219 26.1963 22.088C26.1246 22.3541 25.8482 22.5179 25.5821 22.4462C25.316 22.3746 25.1522 22.0982 25.2239 21.8321Z"
              fill="white"
            />
            <path
              d="M6.51479 17.9241C7.06877 17.9241 7.51786 17.475 7.51786 16.921C7.51786 16.3671 7.06877 15.918 6.51479 15.918C5.96081 15.918 5.51172 16.3671 5.51172 16.921C5.51172 17.475 5.96081 17.9241 6.51479 17.9241Z"
              fill="white"
            />
            <path
              d="M9.13618 18.4559C9.59971 18.4559 9.97548 18.0802 9.97548 17.6166C9.97548 17.1531 9.59971 16.7773 9.13618 16.7773C8.67264 16.7773 8.29688 17.1531 8.29688 17.6166C8.29688 18.0802 8.67264 18.4559 9.13618 18.4559Z"
              fill="white"
            />
            <path
              d="M11.7669 18.9673C12.1343 18.9673 12.4322 18.6694 12.4322 18.302C12.4322 17.9346 12.1343 17.6367 11.7669 17.6367C11.3994 17.6367 11.1016 17.9346 11.1016 18.302C11.1016 18.6694 11.3994 18.9673 11.7669 18.9673Z"
              fill="white"
            />
            <path
              d="M14.8759 19.1232C14.8043 19.3893 14.5279 19.553 14.2618 19.4814C13.9957 19.4098 13.8319 19.1334 13.9036 18.8673C13.9752 18.6012 14.2516 18.4374 14.5177 18.509C14.7838 18.5807 14.9476 18.857 14.8759 19.1232Z"
              fill="white"
            />
            <path
              d="M32.3156 28.221C32.8696 28.221 33.3186 27.7719 33.3186 27.2179C33.3186 26.6639 32.8696 26.2148 32.3156 26.2148C31.7616 26.2148 31.3125 26.6639 31.3125 27.2179C31.3125 27.7719 31.7616 28.221 32.3156 28.221Z"
              fill="white"
            />
            <path
              d="M29.9331 26.745C30.3966 26.745 30.7724 26.3692 30.7724 25.9057C30.7724 25.4422 30.3966 25.0664 29.9331 25.0664C29.4695 25.0664 29.0938 25.4422 29.0938 25.9057C29.0938 26.3692 29.4695 26.745 29.9331 26.745Z"
              fill="white"
            />
            <path
              d="M27.5598 25.2603C27.9273 25.2603 28.2251 24.9624 28.2251 24.595C28.2251 24.2275 27.9273 23.9297 27.5598 23.9297C27.1924 23.9297 26.8945 24.2275 26.8945 24.595C26.8945 24.9624 27.1924 25.2603 27.5598 25.2603Z"
              fill="white"
            />
            <path
              d="M24.7331 23.0508C24.8662 22.8052 25.1733 22.7233 25.4087 22.8564C25.6441 22.9894 25.7362 23.2965 25.6032 23.5319C25.4701 23.7673 25.163 23.8594 24.9276 23.7264C24.6922 23.5933 24.6001 23.2862 24.7331 23.0508Z"
              fill="white"
            />
            <path
              d="M7.78432 14.7405C8.3383 14.7405 8.78739 14.2914 8.78739 13.7374C8.78739 13.1835 8.3383 12.7344 7.78432 12.7344C7.23034 12.7344 6.78125 13.1835 6.78125 13.7374C6.78125 14.2914 7.23034 14.7405 7.78432 14.7405Z"
              fill="white"
            />
            <path
              d="M10.1596 15.8778C10.6232 15.8778 10.9989 15.502 10.9989 15.0385C10.9989 14.575 10.6232 14.1992 10.1596 14.1992C9.69608 14.1992 9.32031 14.575 9.32031 15.0385C9.32031 15.502 9.69608 15.8778 10.1596 15.8778Z"
              fill="white"
            />
            <path
              d="M12.5442 17.0142C12.9116 17.0142 13.2095 16.7163 13.2095 16.3489C13.2095 15.9815 12.9116 15.6836 12.5442 15.6836C12.1768 15.6836 11.8789 15.9815 11.8789 16.3489C11.8789 16.7163 12.1768 17.0142 12.5442 17.0142Z"
              fill="white"
            />
            <path
              d="M15.3571 17.9048C15.224 18.1504 14.9169 18.2323 14.6815 18.0992C14.4461 17.9662 14.354 17.6591 14.4871 17.4237C14.6201 17.1883 14.9272 17.0962 15.1626 17.2292C15.398 17.3623 15.4901 17.6694 15.3571 17.9048Z"
              fill="white"
            />
            <path
              d="M32.3156 14.7405C32.8696 14.7405 33.3186 14.2914 33.3186 13.7374C33.3186 13.1835 32.8696 12.7344 32.3156 12.7344C31.7616 12.7344 31.3125 13.1835 31.3125 13.7374C31.3125 14.2914 31.7616 14.7405 32.3156 14.7405Z"
              fill="white"
            />
            <path
              d="M29.9331 15.8856C30.3966 15.8856 30.7724 15.5099 30.7724 15.0463C30.7724 14.5828 30.3966 14.207 29.9331 14.207C29.4695 14.207 29.0938 14.5828 29.0938 15.0463C29.0938 15.5099 29.4695 15.8856 29.9331 15.8856Z"
              fill="white"
            />
            <path
              d="M27.5598 17.0142C27.9273 17.0142 28.2251 16.7163 28.2251 16.3489C28.2251 15.9815 27.9273 15.6836 27.5598 15.6836C27.1924 15.6836 26.8945 15.9815 26.8945 16.3489C26.8945 16.7163 27.1924 17.0142 27.5598 17.0142Z"
              fill="white"
            />
            <path
              d="M24.7331 17.9048C24.6001 17.6591 24.6922 17.3623 24.9276 17.2292C25.163 17.0962 25.4701 17.1883 25.6032 17.4237C25.7362 17.6591 25.6441 17.9662 25.4087 18.0992C25.1733 18.2323 24.8662 18.1402 24.7331 17.9048Z"
              fill="white"
            />
            <path
              d="M7.78432 28.221C8.3383 28.221 8.78739 27.7719 8.78739 27.2179C8.78739 26.6639 8.3383 26.2148 7.78432 26.2148C7.23034 26.2148 6.78125 26.6639 6.78125 27.2179C6.78125 27.7719 7.23034 28.221 7.78432 28.221Z"
              fill="white"
            />
            <path
              d="M10.1596 26.7489C10.6232 26.7489 10.9989 26.3731 10.9989 25.9096C10.9989 25.4461 10.6232 25.0703 10.1596 25.0703C9.69608 25.0703 9.32031 25.4461 9.32031 25.9096C9.32031 26.3731 9.69608 26.7489 10.1596 26.7489Z"
              fill="white"
            />
            <path
              d="M12.5442 25.2642C12.9116 25.2642 13.2095 24.9663 13.2095 24.5989C13.2095 24.2315 12.9116 23.9336 12.5442 23.9336C12.1768 23.9336 11.8789 24.2315 11.8789 24.5989C11.8789 24.9663 12.1768 25.2642 12.5442 25.2642Z"
              fill="white"
            />
            <path
              d="M15.3571 23.0526C15.4901 23.2983 15.398 23.5951 15.1626 23.7281C14.9272 23.8612 14.6201 23.7691 14.4871 23.5337C14.354 23.2983 14.4461 22.9912 14.6815 22.8581C14.9169 22.7251 15.224 22.8172 15.3571 23.0526Z"
              fill="white"
            />
            <path
              d="M33.5851 17.9319C34.1391 17.9319 34.5882 17.4828 34.5882 16.9288C34.5882 16.3749 34.1391 15.9258 33.5851 15.9258C33.0311 15.9258 32.582 16.3749 32.582 16.9288C32.582 17.4828 33.0311 17.9319 33.5851 17.9319Z"
              fill="white"
            />
            <path
              d="M30.9565 18.4559C31.42 18.4559 31.7958 18.0802 31.7958 17.6166C31.7958 17.1531 31.42 16.7773 30.9565 16.7773C30.493 16.7773 30.1172 17.1531 30.1172 17.6166C30.1172 18.0802 30.493 18.4559 30.9565 18.4559Z"
              fill="white"
            />
            <path
              d="M28.3333 18.9673C28.7007 18.9673 28.9986 18.6694 28.9986 18.302C28.9986 17.9346 28.7007 17.6367 28.3333 17.6367C27.9658 17.6367 27.668 17.9346 27.668 18.302C27.668 18.6694 27.9658 18.9673 28.3333 18.9673Z"
              fill="white"
            />
            <path
              d="M25.2239 19.1193C25.1522 18.8531 25.316 18.5768 25.5821 18.5051C25.8482 18.4335 26.1246 18.5973 26.1963 18.8634C26.2679 19.1295 26.1041 19.4058 25.838 19.4775C25.5719 19.5491 25.2955 19.3854 25.2239 19.1193Z"
              fill="white"
            />
            <path
              d="M6.51479 25.0257C7.06877 25.0257 7.51786 24.5766 7.51786 24.0226C7.51786 23.4686 7.06877 23.0195 6.51479 23.0195C5.96081 23.0195 5.51172 23.4686 5.51172 24.0226C5.51172 24.5766 5.96081 25.0257 6.51479 25.0257Z"
              fill="white"
            />
            <path
              d="M9.13618 24.1747C9.59971 24.1747 9.97548 23.7989 9.97548 23.3354C9.97548 22.8719 9.59971 22.4961 9.13618 22.4961C8.67264 22.4961 8.29688 22.8719 8.29688 23.3354C8.29688 23.7989 8.67264 24.1747 9.13618 24.1747Z"
              fill="white"
            />
            <path
              d="M11.7669 23.3072C12.1343 23.3072 12.4322 23.0093 12.4322 22.6419C12.4322 22.2744 12.1343 21.9766 11.7669 21.9766C11.3994 21.9766 11.1016 22.2744 11.1016 22.6419C11.1016 23.0093 11.3994 23.3072 11.7669 23.3072Z"
              fill="white"
            />
            <path
              d="M14.8759 21.8321C14.9476 22.0982 14.7838 22.3746 14.5177 22.4462C14.2516 22.5179 13.9752 22.3541 13.9036 22.088C13.8319 21.8219 13.9957 21.5455 14.2618 21.4739C14.5279 21.4022 14.8043 21.566 14.8759 21.8321Z"
              fill="white"
            />
            <path
              d="M23.6398 7.95143C24.1938 7.95143 24.6429 7.50235 24.6429 6.94837C24.6429 6.3944 24.1938 5.94531 23.6398 5.94531C23.0858 5.94531 22.6367 6.3944 22.6367 6.94837C22.6367 7.50235 23.0858 7.95143 23.6398 7.95143Z"
              fill="white"
            />
            <path
              d="M22.9448 10.4091C23.4083 10.4091 23.7841 10.0333 23.7841 9.56976C23.7841 9.10623 23.4083 8.73047 22.9448 8.73047C22.4812 8.73047 22.1055 9.10623 22.1055 9.56976C22.1055 10.0333 22.4812 10.4091 22.9448 10.4091Z"
              fill="white"
            />
            <path
              d="M22.2473 12.854C22.6148 12.854 22.9126 12.5562 22.9126 12.1887C22.9126 11.8213 22.6148 11.5234 22.2473 11.5234C21.8799 11.5234 21.582 11.8213 21.582 12.1887C21.582 12.5562 21.8799 12.854 22.2473 12.854Z"
              fill="white"
            />
            <path
              d="M21.4181 15.3017C21.1519 15.2301 20.9882 14.9537 21.0598 14.6876C21.1315 14.4215 21.4078 14.2577 21.6739 14.3294C21.9401 14.401 22.1038 14.6774 22.0322 14.9435C21.9605 15.2096 21.6842 15.3734 21.4181 15.3017Z"
              fill="white"
            />
            <path
              d="M16.464 35.0022C17.018 35.0022 17.4671 34.5531 17.4671 33.9992C17.4671 33.4452 17.018 32.9961 16.464 32.9961C15.91 32.9961 15.4609 33.4452 15.4609 33.9992C15.4609 34.5531 15.91 35.0022 16.464 35.0022Z"
              fill="white"
            />
            <path
              d="M17.1596 32.2098C17.6232 32.2098 17.9989 31.8341 17.9989 31.3705C17.9989 30.907 17.6232 30.5312 17.1596 30.5312C16.6961 30.5312 16.3203 30.907 16.3203 31.3705C16.3203 31.8341 16.6961 32.2098 17.1596 32.2098Z"
              fill="white"
            />
            <path
              d="M17.8567 29.4165C18.2241 29.4165 18.522 29.1187 18.522 28.7512C18.522 28.3838 18.2241 28.0859 17.8567 28.0859C17.4893 28.0859 17.1914 28.3838 17.1914 28.7512C17.1914 29.1187 17.4893 29.4165 17.8567 29.4165Z"
              fill="white"
            />
            <path
              d="M18.674 25.638C18.9401 25.7096 19.1038 25.9859 19.0322 26.2521C18.9605 26.5182 18.6842 26.6819 18.4181 26.6103C18.1519 26.5387 17.9882 26.2623 18.0598 25.9962C18.1315 25.7301 18.4078 25.5663 18.674 25.638Z"
              fill="white"
            />
            <path
              d="M26.8195 9.23268C27.3735 9.23268 27.8225 8.7836 27.8225 8.22962C27.8225 7.67565 27.3735 7.22656 26.8195 7.22656C26.2655 7.22656 25.8164 7.67565 25.8164 8.22962C25.8164 8.7836 26.2655 9.23268 26.8195 9.23268Z"
              fill="white"
            />
            <path
              d="M25.5073 11.4442C25.9708 11.4442 26.3466 11.0684 26.3466 10.6049C26.3466 10.1414 25.9708 9.76562 25.5073 9.76562C25.0437 9.76562 24.668 10.1414 24.668 10.6049C24.668 11.0684 25.0437 11.4442 25.5073 11.4442Z"
              fill="white"
            />
            <path
              d="M24.1887 13.6431C24.5562 13.6431 24.854 13.3452 24.854 12.9778C24.854 12.6104 24.5562 12.3125 24.1887 12.3125C23.8213 12.3125 23.5234 12.6104 23.5234 12.9778C23.5234 13.3452 23.8213 13.6431 24.1887 13.6431Z"
              fill="white"
            />
            <path
              d="M22.6329 15.7952C22.3872 15.6621 22.3053 15.3551 22.4384 15.1094C22.5714 14.8638 22.8785 14.7819 23.1242 14.9149C23.3698 15.048 23.4517 15.3551 23.3186 15.6007C23.1856 15.8464 22.8785 15.9282 22.6329 15.7952Z"
              fill="white"
            />
            <path
              d="M13.2687 33.7249C13.8227 33.7249 14.2718 33.2758 14.2718 32.7218C14.2718 32.1678 13.8227 31.7188 13.2687 31.7188C12.7147 31.7188 12.2656 32.1678 12.2656 32.7218C12.2656 33.2758 12.7147 33.7249 13.2687 33.7249Z"
              fill="white"
            />
            <path
              d="M14.5893 31.1864C15.0528 31.1864 15.4286 30.8106 15.4286 30.3471C15.4286 29.8836 15.0528 29.5078 14.5893 29.5078C14.1258 29.5078 13.75 29.8836 13.75 30.3471C13.75 30.8106 14.1258 31.1864 14.5893 31.1864Z"
              fill="white"
            />
            <path
              d="M15.8997 28.6275C16.2671 28.6275 16.565 28.3296 16.565 27.9622C16.565 27.5947 16.2671 27.2969 15.8997 27.2969C15.5322 27.2969 15.2344 27.5947 15.2344 27.9622C15.2344 28.3296 15.5322 28.6275 15.8997 28.6275Z"
              fill="white"
            />
            <path
              d="M17.4562 25.1493C17.7018 25.2824 17.7837 25.5894 17.6507 25.8351C17.5176 26.0807 17.2105 26.1626 16.9649 26.0296C16.7192 25.8965 16.6374 25.5894 16.7704 25.3438C16.9035 25.0981 17.2105 25.0163 17.4562 25.1493Z"
              fill="white"
            />
            <path
              d="M10.1476 31.3733C10.7016 31.3733 11.1507 30.9242 11.1507 30.3702C11.1507 29.8163 10.7016 29.3672 10.1476 29.3672C9.59362 29.3672 9.14453 29.8163 9.14453 30.3702C9.14453 30.9242 9.59362 31.3733 10.1476 31.3733Z"
              fill="white"
            />
            <path
              d="M12.0737 29.2958C12.5372 29.2958 12.913 28.92 12.913 28.4565C12.913 27.993 12.5372 27.6172 12.0737 27.6172C11.6101 27.6172 11.2344 27.993 11.2344 28.4565C11.2344 28.92 11.6101 29.2958 12.0737 29.2958Z"
              fill="white"
            />
            <path
              d="M13.9973 27.1978C14.3648 27.1978 14.6626 26.8999 14.6626 26.5325C14.6626 26.165 14.3648 25.8672 13.9973 25.8672C13.6299 25.8672 13.332 26.165 13.332 26.5325C13.332 26.8999 13.6299 27.1978 13.9973 27.1978Z"
              fill="white"
            />
            <path
              d="M16.2701 24.2591C16.4645 24.4536 16.4645 24.7709 16.2701 24.9654C16.0756 25.1598 15.7583 25.1598 15.5638 24.9654C15.3694 24.7709 15.3694 24.4536 15.5638 24.2591C15.7583 24.0647 16.0756 24.0647 16.2701 24.2591Z"
              fill="white"
            />
            <path
              d="M29.9445 11.5764C30.4985 11.5764 30.9475 11.1273 30.9475 10.5734C30.9475 10.0194 30.4985 9.57031 29.9445 9.57031C29.3905 9.57031 28.9414 10.0194 28.9414 10.5734C28.9414 11.1273 29.3905 11.5764 29.9445 11.5764Z"
              fill="white"
            />
            <path
              d="M28.0307 13.3348C28.4942 13.3348 28.87 12.9591 28.87 12.4955C28.87 12.032 28.4942 11.6562 28.0307 11.6562C27.5672 11.6562 27.1914 12.032 27.1914 12.4955C27.1914 12.9591 27.5672 13.3348 28.0307 13.3348Z"
              fill="white"
            />
            <path
              d="M26.1067 15.0884C26.4741 15.0884 26.772 14.7905 26.772 14.4231C26.772 14.0557 26.4741 13.7578 26.1067 13.7578C25.7393 13.7578 25.4414 14.0557 25.4414 14.4231C25.4414 14.7905 25.7393 15.0884 26.1067 15.0884Z"
              fill="white"
            />
            <path
              d="M23.8334 16.6958C23.6389 16.5014 23.6389 16.1841 23.8334 15.9896C24.0278 15.7951 24.3451 15.7951 24.5396 15.9896C24.7341 16.1841 24.7341 16.5014 24.5396 16.6958C24.3451 16.8903 24.0278 16.8903 23.8334 16.6958Z"
              fill="white"
            />
            <path
              d="M49.8224 23.7272L50.5977 22.0006C51.4283 22.6133 52.6603 23.031 53.837 23.031C55.1798 23.031 55.7335 22.5854 55.7335 21.9727C55.7335 20.1208 50.0162 21.3879 50.0162 17.7258C50.0162 16.0409 51.359 14.6484 54.1554 14.6484C55.3875 14.6484 56.6472 14.9409 57.5609 15.5257L56.8548 17.2662C55.9412 16.751 54.9998 16.4865 54.1277 16.4865C52.7849 16.4865 52.2589 16.9878 52.2589 17.6144C52.2589 19.4385 57.9762 18.1853 57.9762 21.8056C57.9762 23.4627 56.6195 24.869 53.8093 24.869C52.245 24.869 50.6807 24.4095 49.8086 23.7272H49.8224Z"
              fill="white"
            />
            <path
              d="M58.8359 20.9011C58.8359 18.6174 60.594 16.9883 63.0443 16.9883C64.6363 16.9883 65.8822 17.6845 66.4221 18.9238L64.7194 19.8428C64.3179 19.1187 63.7088 18.7985 63.0166 18.7985C61.9092 18.7985 61.037 19.5782 61.037 20.9011C61.037 22.2239 61.9092 23.0037 63.0166 23.0037C63.7088 23.0037 64.3041 22.6973 64.7194 21.9593L66.4221 22.8923C65.8684 24.1037 64.6225 24.8139 63.0443 24.8139C60.594 24.8139 58.8359 23.1847 58.8359 20.9011Z"
              fill="white"
            />
            <path
              d="M75.2386 17.098V24.6868H73.1482V23.8096C72.5945 24.478 71.8054 24.7982 70.7949 24.7982C68.663 24.7982 67.0156 23.2805 67.0156 20.8854C67.0156 18.4904 68.663 16.9727 70.7949 16.9727C71.7224 16.9727 72.5114 17.2651 73.0513 17.8917V17.0841H75.2386V17.098ZM73.0929 20.8994C73.0929 19.5905 72.2484 18.7968 71.1686 18.7968C70.0888 18.7968 69.2306 19.5905 69.2306 20.8994C69.2306 22.2083 70.075 23.002 71.1686 23.002C72.2622 23.002 73.0929 22.2083 73.0929 20.8994Z"
              fill="white"
            />
            <path
              d="M81.8147 24.3258C81.3717 24.646 80.7073 24.7992 80.0428 24.7992C78.2432 24.7992 77.2188 23.8802 77.2188 22.07V15.4141H79.406V17.266H81.2748V18.9648H79.406V22.0561C79.406 22.7105 79.7382 23.0586 80.3335 23.0586C80.6519 23.0586 80.9841 22.9612 81.2333 22.7801L81.8147 24.3258Z"
              fill="white"
            />
            <path
              d="M87.5882 24.3258C87.1452 24.646 86.4807 24.7992 85.8162 24.7992C84.0166 24.7992 82.9922 23.8802 82.9922 22.07V15.4141H85.1794V17.266H87.0483V18.9648H85.1794V22.0561C85.1794 22.7105 85.5117 23.0586 86.1069 23.0586C86.4253 23.0586 86.7576 22.9612 87.0068 22.7801L87.5882 24.3258Z"
              fill="white"
            />
            <path
              d="M94.2728 22.3057L95.4356 23.5729C94.7296 24.3805 93.6775 24.7982 92.3209 24.7982C89.7045 24.7982 88.0156 23.1412 88.0156 20.8854C88.0156 18.6297 89.7322 16.9727 92.0579 16.9727C94.1898 16.9727 95.9479 18.379 95.9617 20.8158L90.3828 21.9019C90.7012 22.6539 91.4072 23.0298 92.3901 23.0298C93.193 23.0298 93.7606 22.7931 94.2867 22.2918L94.2728 22.3057ZM90.1613 20.6627L93.8437 19.9386C93.636 19.1588 92.9715 18.6436 92.0579 18.6436C90.9643 18.6436 90.2029 19.3816 90.1613 20.6627Z"
              fill="white"
            />
            <path
              d="M102.12 16.9883V19.0213C101.94 19.0073 101.802 18.9934 101.636 18.9934C100.432 18.9934 99.6287 19.6618 99.6287 21.1099V24.6885H97.4414V17.0997H99.5318V18.1022C100.072 17.3642 100.958 16.9883 102.134 16.9883H102.12Z"
              fill="white"
            />
            <path
              d="M103.16 14.8152C103.16 14.119 103.714 13.5898 104.517 13.5898C105.32 13.5898 105.873 14.0911 105.873 14.7734C105.873 15.5114 105.32 16.0406 104.517 16.0406C103.714 16.0406 103.16 15.4975 103.16 14.8152ZM103.423 17.0988H105.61V24.6877H103.423V17.0988Z"
              fill="white"
            />
            <path
              d="M115.371 20.3441V24.6885H113.184V20.6783C113.184 19.4529 112.616 18.882 111.661 18.882C110.609 18.882 109.847 19.5365 109.847 20.9289V24.6885H107.66V17.0997H109.751V17.9908C110.346 17.3364 111.218 16.9883 112.242 16.9883C114.028 16.9883 115.371 18.0326 115.371 20.3441Z"
              fill="white"
            />
            <path
              d="M125.215 17.098V23.4197C125.215 26.2464 123.706 27.5414 120.979 27.5414C119.553 27.5414 118.155 27.1933 117.269 26.497L118.141 24.9096C118.791 25.4388 119.844 25.7729 120.813 25.7729C122.349 25.7729 123.027 25.0628 123.027 23.6982V23.3779C122.446 24.0185 121.629 24.3248 120.646 24.3248C118.556 24.3248 116.867 22.8767 116.867 20.6487C116.867 18.4208 118.556 16.9727 120.646 16.9727C121.699 16.9727 122.571 17.3208 123.138 18.0588V17.0841H125.215V17.098ZM123.055 20.6487C123.055 19.5348 122.225 18.7828 121.076 18.7828C119.927 18.7828 119.082 19.5348 119.082 20.6487C119.082 21.7627 119.927 22.5146 121.076 22.5146C122.225 22.5146 123.055 21.7627 123.055 20.6487Z"
              fill="white"
            />
            <defs>
              <linearGradient
                id="paint0_linear_5255_20837"
                x1="20.911"
                y1="-18.0801"
                x2="53.3053"
                y2="25.1436"
                gradientUnits="userSpaceOnUse"
              >
                <stop stop-color="#8E2CE3" />
                <stop offset="1" stop-color="#4B00DF" />
              </linearGradient>
            </defs>
          </svg>
        </div>
      ),
      {
        width,
        height,
      },
    );
  } catch (error) {
    console.log("error", error);

    return new NextResponse("Error fetching collection", { status: 500 });
  }
}
